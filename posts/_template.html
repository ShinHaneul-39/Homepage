<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- AI-MAINTENANCE: This template includes AI anchors for future automated edits.
         Do NOT remove: data-ai-* attributes on .post-content, AI-EXAMPLE-SECTION comments,
         and @@CONTENT_START@@/@@CONTENT_END@@ markers. -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="@@DESCRIPTION@@" />
    <title>@@TITLE@@ - 신하늘</title>
    <meta property="og:title" content="@@TITLE@@ - 신하늘" />
    <meta property="og:description" content="@@DESCRIPTION@@" />
    <meta property="og:site_name" content="신하늘" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="@@OG_IMAGE@@" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.min.css"
    />
    <link rel="stylesheet" href="../assets/css/style-v2.css" />
  </head>
  <body>
    <!-- Topbar -->
    <header class="topbar">
      <div class="container topbar-inner">
        <div class="brand"><a href="../index.html" aria-label="홈으로">신하늘</a></div>
        <nav class="nav" aria-label="주 메뉴">
          <a href="../index.html">프로필</a>
          <a href="../career_table.html">Discord 관리자 경력</a>
          <a href="../blog.html">블로그</a>
          <a href="../special_thanks.html">고마운 사람들</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="section">
        <div class="container">
          <article class="post-card post-full" aria-label="@@TITLE@@">
            <header>
              <h1 class="post-title">@@TITLE@@</h1>
              <div class="post-meta">@@CATEGORY@@ · @@DATE@@</div>
              <p class="post-subtitle">@@SUBTITLE@@</p>
            </header>
            <figure class="thumb">
              <picture>
                <source srcset="@@THUMB_SRC@@" type="image/jpeg" />
                <img
                  src="../assets/images/embed_image.png"
                  alt="@@THUMB_ALT@@"
                  onerror="this.onerror=null; this.src='../assets/images/embed_image.png';"
                />
              </picture>
            </figure>
            <div class="post-content" data-markdown data-ai-anchor="md-example" data-ai-managed="true" data-ai-version="2025-09-27">
              <!-- @@CONTENT_START@@ -->
              <!-- AI-EXAMPLE-SECTION:START id=md-example v=2025-09-27 -->
<!-- STRUCTURE-GUIDE: 이 템플릿은 사용자가 보내주신 원문을 그대로 렌더링합니다. 아래 구조를 참고하세요. (화면에 표시되지 않는 안내) -->
<!--
# 제목(H1)
## 요약 또는 부제(H2, 선택)
### 소주제(H3, 선택)
본문 내용 작성...
-->
<!-- MARKDOWN-GUIDE: 최소 가이드 (화면 비표시)
- 헤딩: #, ##, ### (#### 이상은 자동으로 ###로 클램프)
- 밑줄: __내용__ (커스텀 밑줄)
- 작은 문단: -# 로 시작하는 줄 → <p class="text-sm">
- 리스트: 공백 2~4칸 들여쓰기(1단계 disc, 2단계 이상 circle)
- 코드 블록: ```언어 ... ```
- 인용문: > 문장
- 링크/이미지: [텍스트](URL), ![대체텍스트](경로)
-->
<!-- AI-EXAMPLE-SECTION:END id=md-example -->
<!-- @@CONTENT_END@@ -->
            </div>
          </article>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div style="display:flex; gap:24px; flex-wrap:wrap; align-items:center; justify-content:space-between;">
          <nav aria-label="푸터 링크" style="display:flex; gap:16px; flex-wrap:wrap;">
            <a href="../index.html">프로필</a>
            <a href="../career_table.html">Discord 관리자 경력</a>
            <a href="../blog.html" aria-current="page">블로그</a>
            <a href="../special_thanks.html">고마운 사람들</a>
          </nav>
        </div>
        <div style="margin-top:12px">© 2025 신하늘 | All Rights Reserved</div>
      </div>
    </footer>

    <!-- Markdown renderer: marked.js + DOMPurify -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        function stripIndent(str) {
          const text = String(str || '')
            .replace(/^\uFEFF/, '')
            .replace(/\r\n/g, '\n')
            .replace(/^\n+|\n+$/g, '');
          const lines = text.split('\n');
          let min = null;
          for (const line of lines) {
            if (!line.trim()) continue;
            const m = line.match(/^(\s+)/);
            if (m) {
              const len = m[1].length;
              if (min === null || len < min) min = len;
            } else {
              min = 0;
              break;
            }
          }
          if (min && min > 0) {
            return lines.map((l) => l.slice(min)).join('\n');
          }
          return text;
        }
    
        function transformCustom(md) {
          // 1) 커스텀 밑줄: __내용__ -> <u>내용</u>
          let text = String(md || '').replace(/__([^\n_]+?)__/g, '<u>$1</u>');
          
          // 2) 헤딩 레벨 제한: #### 이상은 ### 로 클램프 (코드블록 내부 제외)
          {
            const lines = text.split('\n');
            let inCode = false;
            for (let i = 0; i < lines.length; i++) {
              const raw = lines[i];
              const trimmed = raw.trim();
              if (/^```/.test(trimmed)) {
                inCode = !inCode;
                continue;
              }
              if (!inCode) {
                const m = raw.match(/^\s{0,3}(#{4,})\s+(.*)$/);
                if (m) {
                  lines[i] = '### ' + m[2];
                }
              }
            }
            text = lines.join('\n');
          }
          
          // 3) 작은 문단: '-# ' 줄을 <p class="text-sm">로 변환
          text = text
            .split('\n')
            .map((line) => {
              const m = line.match(/^\s*-\#\s+(.*)$/);
              return m ? `<p class="text-sm">${m[1]}</p>` : line;
            })
            .join('\n');
          return text;
        }
    
        const containers = document.querySelectorAll('.post-content[data-markdown]');
        containers.forEach(function (el) {
          const raw = el.textContent || '';
          const md = transformCustom(stripIndent(raw));
          if (!md.trim()) return;
          const html = DOMPurify.sanitize(marked.parse(md));
          el.innerHTML = html;
          el.classList.add('rendered');
        });
      });
    </script>
  </body>
</html>